import n,{forwardRef as e,useRef as t,useEffect as r}from"react";import o from"prop-types";import a from"lottie-web";var u=e((function(e,o){var u=e.animationData,c=e.loop,i=e.autoplay,l=e.initialSegment,d=e.onComplete,f=e.onLoopComplete,m=e.onEnterFrame,s=e.onSegmentStart,p=e.onConfigReady,y=e.onDataReady,g=e.onDataFailed,S=e.onLoadedImages,D=e.onDOMLoaded,v=e.onDestroy,h=e.style,b=t(null),L=t(null),A=o||t(),C=function(){L.current&&L.current.play()},O=function(){L.current&&L.current.stop()},T=function(){L.current&&L.current.pause()},E=function(n){L.current&&L.current.setSpeed(n)},R=function(n,e){L.current&&L.current.goToAndPlay(n,e)},F=function(n,e){L.current&&L.current.goToAndStop(n,e)},P=function(n){L.current&&L.current.setDirection(n)},j=function(n,e){L.current&&L.current.playSegments(n,e)},M=function(n){L.current&&L.current.setSubframe(n)},_=function(){L.current&&L.current.destroy()},I=function(n){if(L.current)return L.current.getDuration(n)};r((function(){!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L.current&&L.current.destroy();var e=Object.assign(Object.assign({animationData:u||null,loop:Number.isNaN(c)?!1!==c:c,autoplay:!1!==i,initialSegment:l||null},n),{container:b.current});L.current=a.loadAnimation(e),A&&(A.current={play:C,stop:O,pause:T,setSpeed:E,goToAndPlay:R,goToAndStop:F,setDirection:P,playSegments:j,setSubframe:M,destroy:_,getDuration:I})}()}),[u,c,i,l]);return r((function(){var n=[{name:"complete",handler:d},{name:"loopComplete",handler:f},{name:"enterFrame",handler:m},{name:"segmentStart",handler:s},{name:"config_ready",handler:p},{name:"data_ready",handler:y},{name:"data_failed",handler:g},{name:"loaded_images",handler:S},{name:"DOMLoaded",handler:D},{name:"destroy",handler:v}].map((function(n){return function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return L.current&&(t&&L.current.removeEventListener(n),n&&e)?(L.current.addEventListener(n,e),function(){L.current.removeEventListener(n,e)}):function(){}}(n.name,n.handler)}));return function(){n.forEach((function(n){return n()}))}}),[d,f,m,s,p,y,g,S,D,v]),n.createElement("div",{ref:b,style:h})}));u.propTypes={animationData:o.shape(void 0).isRequired,loop:o.oneOfType([o.bool,o.number]),autoplay:o.bool,initialSegment:o.arrayOf(o.shape(o.number.isRequired)),onComplete:o.func,onLoopComplete:o.func,onEnterFrame:o.func,onSegmentStart:o.func,onConfigReady:o.func,onDataReady:o.func,onDataFailed:o.func,onLoadedImages:o.func,onDOMLoaded:o.func,onDestroy:o.func,style:o.shape(void 0)},u.defaultProps={loop:!0,autoplay:!0,initialSegment:null,onComplete:null,onLoopComplete:null,onEnterFrame:null,onSegmentStart:null,onConfigReady:null,onDataReady:null,onDataFailed:null,onLoadedImages:null,onDOMLoaded:null,onDestroy:null,style:null};var c={Animator:u,useAnimator:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t(null),c=t(null);r((function(){u.current=a.loadAnimation(Object.assign(Object.assign({},e),{container:c.current}))}),[]);var i=function(){u.current&&u.current.play()},l=function(){u.current&&u.current.stop()},d=function(){u.current&&u.current.pause()},f=function(n){u.current&&u.current.setSpeed(n)},m=function(n,e){u.current&&u.current.goToAndStop(n,e)},s=function(n,e){u.current&&u.current.goToAndPlay(n,e)},p=function(n){u.current&&u.current.setDirection(n)},y=function(n,e){u.current&&u.current.playSegments(n,e)},g=function(n){u.current&&u.current.setSubframe(n)},S=function(){u.current&&u.current.destroy()},D=function(n){if(u.current)return u.current.getDuration(n)},v=n.createElement("div",{style:o,ref:c});return{View:v,play:i,stop:l,pause:d,setSpeed:f,goToAndStop:m,goToAndPlay:s,setDirection:p,playSegments:y,setSubframe:g,destroy:S,getDuration:D}}};export default c;
