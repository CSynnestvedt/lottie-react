import e,{useRef as n,useEffect as t,forwardRef as o}from"react";import r from"prop-types";import a from"lottie-web";var u=function(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.animationData,l=o.loop,i=o.autoplay,c=o.initialSegment,d=o.onComplete,p=o.onLoopComplete,m=o.onEnterFrame,s=o.onSegmentStart,f=o.onConfigReady,y=o.onDataReady,g=o.onDataFailed,S=o.onLoadedImages,v=o.onDOMLoaded,D=o.onDestroy,h=n(null),b=n(null),O=function(){h.current&&h.current.play()},L=function(){h.current&&h.current.stop()},C=function(){h.current&&h.current.pause()},T=function(e){h.current&&h.current.setSpeed(e)},A=function(e,n){h.current&&h.current.goToAndPlay(e,n)},E=function(e,n){h.current&&h.current.goToAndStop(e,n)},P=function(e){h.current&&h.current.setDirection(e)},R=function(e,n){h.current&&h.current.playSegments(e,n)},F=function(e){h.current&&h.current.setSubframe(e)},j=function(){h.current&&h.current.destroy()},w=function(e){if(h.current)return h.current.getDuration(e)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.current&&h.current.destroy();var n=Object.assign(Object.assign({animationData:u||null,loop:Number.isNaN(l)?!1!==l:l,autoplay:!1!==i,initialSegment:c||null},e),{container:b.current});h.current=a.loadAnimation(n)};t((function(){x()}),[u,l,i,c]);var I=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h.current&&(t&&h.current.removeEventListener(e),e&&n)?(h.current.addEventListener(e,n),function(){h.current.removeEventListener(e,n)}):function(){}};t((function(){var e=[{name:"complete",handler:d},{name:"loopComplete",handler:p},{name:"enterFrame",handler:m},{name:"segmentStart",handler:s},{name:"config_ready",handler:f},{name:"data_ready",handler:y},{name:"data_failed",handler:g},{name:"loaded_images",handler:S},{name:"DOMLoaded",handler:v},{name:"destroy",handler:D}].map((function(e){return I(e.name,e.handler)}));return function(){e.forEach((function(e){return e()}))}}),[d,p,m,s,f,y,g,S,v,D]);var M=e.createElement("div",{style:r,ref:b});return{View:M,play:O,stop:L,pause:C,setSpeed:T,goToAndStop:E,goToAndPlay:A,setDirection:P,playSegments:R,setSubframe:F,destroy:j,getDuration:w}},l=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t},i=o((function(e,o){var r=e.style,a=l(e,["style"]),i=o||n(),c=u(a,r),d=c.View,p=c.play,m=c.stop,s=c.pause,f=c.setSpeed,y=c.goToAndStop,g=c.goToAndPlay,S=c.setDirection,v=c.playSegments,D=c.setSubframe,h=c.destroy,b=c.getDuration;return t((function(){i&&(i.current={play:p,stop:m,pause:s,setSpeed:f,goToAndPlay:g,goToAndStop:y,setDirection:S,playSegments:v,setSubframe:D,destroy:h,getDuration:b})}),[i.current]),d}));i.propTypes={animationData:r.shape(void 0).isRequired,loop:r.oneOfType([r.bool,r.number]),autoplay:r.bool,initialSegment:r.arrayOf(r.shape(r.number.isRequired)),onComplete:r.func,onLoopComplete:r.func,onEnterFrame:r.func,onSegmentStart:r.func,onConfigReady:r.func,onDataReady:r.func,onDataFailed:r.func,onLoadedImages:r.func,onDOMLoaded:r.func,onDestroy:r.func,style:r.shape(void 0)},i.defaultProps={loop:!0,autoplay:!0,initialSegment:null,onComplete:null,onLoopComplete:null,onEnterFrame:null,onSegmentStart:null,onConfigReady:null,onDataReady:null,onDataFailed:null,onLoadedImages:null,onDOMLoaded:null,onDestroy:null,style:null};var c=i,d=u;export default i;export{c as Animator,d as useAnimator};
